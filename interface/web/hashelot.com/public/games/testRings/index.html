<!DOCTYPE html>
<html lang="en-us">
  <head>
    

<meta property="og:title" content="Ropsten test Rings" />
<meta property="og:description" content="Test Rings on Ropsten." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/games/testrings/" />
<meta property="article:published_time" content="2020-06-06T14:54:33+01:00" />
<meta property="article:modified_time" content="2020-06-06T14:54:33+01:00" />


<meta name="description" content="Hardcoded description; the author should update :)" />
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Hashelot - Decentralized ventures</title>
    
<link rel="icon" type="image/png" href="../../images/favicon.png" />
<link href="https://fonts.googleapis.com/css?family=Open&#43;Sans:400,600" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="../../css/style.min.bfae47b96aa2abf6eedbe138c13dbaa4e229e252b9906c24269d571907da1d1d.css" integrity="sha256-v65HuWqiq/bu2&#43;E4wT26pOIp4lK5kGwkJp1XGQfaHR0=">
<link rel="stylesheet" type="text/css" href="../../css/icons.css">


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">

    
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>

    
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>
  </head>
  <body>
    
    <div id="preloader">
      <div id="status"></div>
    </div>

    

    

<nav class="navbar is-fresh is-transparent no-shadow" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../">
        <img src="../../images/logos/hashelot-header.svg" alt="" width="200">
      </a>

      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbar-menu">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

      <div id="navbar-menu" class="navbar-menu is-static">

        <div class="navbar-end">
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link">
              DApps
            </a>

            <div class="navbar-dropdown">
              <a href="../../dapps/delphi/" class="navbar-item">
                Delphi
              </a>
              <a href="../../dapps/hodler/" class="navbar-item">
                Hodler
              </a>
              <a href="../../dapps/chronicles/" class="navbar-item">
                Chronicles
              </a>
            </div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link">
              Games
            </a>

            <div class="navbar-dropdown">
              <a href="../../games/rings/" class="navbar-item">
                Rings
              </a>
              <a href="../../games/dayrings/" class="navbar-item">
                [Day] Rings
              </a>
            </div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link">
              Utilities
            </a>

            <div class="navbar-dropdown">
              <a href="../../utilities/entropy/" class="navbar-item">
                Entropy
              </a>
            </div>
          </div>

          <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>

<a class="navbar-item"><span id="enableWallet" class="enableWallet button signup-button rounded secondary-btn raised"></span></a>

<script>


var metamask = 0; 
var connectMetaMask = "Connect MetaMask";

var dapper = 0; 
var connectDapper = "Connect Dapper";


var neoline = 0; 


var brave = 0; 

var unsupportedWallet = "Unsupported Web3 wallet"

var noWeb3 = 'No Web3 wallet';


if (typeof web3 !== 'undefined') {
    if(web3.currentProvider.isMetaMask){
      metamask = 1;
    }
    


    if(metamask){ 
      
      ethereum.request({ method: 'eth_accounts' }).then(accounts => {
        
        var curr_account = accounts[0];
        if(curr_account != null){
          
          
          var displayed_account = curr_account.slice(0, 6) + '...' + curr_account.slice(-5, -1);
          document.getElementById('enableWallet').innerHTML = displayed_account;
        }else{
          
          
          const classMetaMask = document.getElementById('enableWallet');
          if (classMetaMask) {
            classMetaMask.addEventListener('click', async() => {
              ethereum.request({ method: 'eth_requestAccounts' }).then(result => {
                console.log(result);
                location.reload();
              });
            }); 
          } 

          document.getElementById('enableWallet').innerHTML = connectMetaMask;

        }
      });


    }else{ 
      const classWallet = document.getElementById('enableWallet');
      if (classWallet) {
        classWallet.addEventListener('click', async() => {
          window.location = 'wallets';
        }); 
      } 
      document.getElementById('enableWallet').innerHTML = unsupportedWallet;
    }
}else{ 
  const classWallet = document.getElementById('enableWallet');
  if (classWallet) {
    classWallet.addEventListener('click', async() => {
      window.location = 'wallets';
    }); 
  } 

  document.getElementById('enableWallet').innerHTML = noWeb3;
}
</script>


        </div>
      </div>
  </div>
</nav>



<nav id="navbar-clone" class="navbar is-fresh is-transparent" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../">
        <img src="../../images/logos/hashelot-header.svg" alt="" width="200">
      </a>

      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="cloned-navbar-menu">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

    <div id="cloned-navbar-menu" class="navbar-menu is-fixed">

      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            DApps
          </a>

          <div class="navbar-dropdown">
            <a href="../../dapps/delphi/" class="navbar-item">
              Delphi
            </a>
            <a href="../../dapps/hodler/" class="navbar-item">
              Hodler
            </a>
            <a href="../../dapps/chronicles/" class="navbar-item">
              Chronicles
            </a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            Games
          </a>

          <div class="navbar-dropdown">
            <a href="../../games/rings/" class="navbar-item">
              Rings
            </a>
            <a href="../../games/dayrings/" class="navbar-item">
              [Day] Rings
            </a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            Utilities
          </a>

          <div class="navbar-dropdown">
            <a href="../../utilities/entropy/" class="navbar-item">
              Entropy
            </a>
          </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>

<a class="navbar-item"><span id="enableWallet-clone" class="enableWallet button signup-button rounded secondary-btn raised"></span></a>

<script>


var metamask = 0; 
var connectMetaMask = "Connect MetaMask";

var dapper = 0; 
var connectDapper = "Connect Dapper";


var neoline = 0; 


var brave = 0; 

var unsupportedWallet = "Unsupported Web3 wallet"

var noWeb3 = 'No Web3 wallet';


if (typeof web3 !== 'undefined') {
    if(web3.currentProvider.isMetaMask){
      metamask = 1;
    }
    


    if(metamask){ 
      
      ethereum.request({ method: 'eth_accounts' }).then(accounts => {
        
        var curr_account = accounts[0];
        if(curr_account != null){
          
          
          var displayed_account = curr_account.slice(0, 6) + '...' + curr_account.slice(-5, -1);
          document.getElementById('enableWallet-clone').innerHTML = displayed_account;
        }else{
          
          
          const classMetaMask = document.getElementById('enableWallet-clone');
          if (classMetaMask) {
            classMetaMask.addEventListener('click', async() => {
              ethereum.request({ method: 'eth_requestAccounts' }).then(result => {
                console.log(result);
                location.reload();
              });
            }); 
          } 

          document.getElementById('enableWallet-clone').innerHTML = connectMetaMask;

        }
      });


    }else{ 
      const classWallet = document.getElementById('enableWallet-clone');
      if (classWallet) {
        classWallet.addEventListener('click', async() => {
          window.location = 'wallets';
        }); 
      } 
      document.getElementById('enableWallet-clone').innerHTML = unsupportedWallet;
    }
}else{ 
  const classWallet = document.getElementById('enableWallet-clone');
  if (classWallet) {
    classWallet.addEventListener('click', async() => {
      window.location = 'wallets';
    }); 
  } 

  document.getElementById('enableWallet-clone').innerHTML = noWeb3;
}
</script>


      </div>
    </div>
</div>
</nav>

<section class="section is-medium">
  <div class="container">
    <div class="columns">
      <div class="column is-centered-tablet-portrait">
        <h1 class="title section-title">Ropsten test Rings</h1>
        <h5 class="subtitle is-5 is-muted"></h5>
        <div class="divider"></div>
      </div>
    </div>

    <div class="content">
      <p><script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
<script>
function depositWage(cash, _contract, _curr_account){
	if(isNaN(cash)){ 
		console.error('To play Rings, you need to input a number!');
	}else{
		const amount = cash*10**15;
		console.log(_curr_account);
		_contract.methods.depositStack().estimateGas({from: _curr_account, value:amount}).then(gasEstimate => {
			_contract.methods.depositStack().send({from: _curr_account, value:amount, gas: gasEstimate},function(error, result){
				if(!error)
					console.log(result);
				else
					console.error(error);
			}); 
		}); 
	}
}

function winnerSelection(_contract, _curr_account){
	console.log(_curr_account);
	_contract.methods.closeBet().estimateGas({from: _curr_account, value: 0}).then(gasEstimate => {
		_contract.methods.closeBet().send({from: _curr_account, value: 0, gas: gasEstimate},function(error, result){
			if(!error)
				console.log(result);
			else
				console.error(error);
		}); 
	}); 
}
</script>
<div id="stacked"></div>
<div id="ElonMetaMask"></div>
<script>

var gameTime = 12; 

var current_network = 3; 
var networkWarning = 'To play Ropsten test Rings, set your MetaMask network on the Ropsten one.';
var rings_address = '0x0ebB0c3aaEe2DE660A35c58af50EE48FBC7D0262';
var jsonInterface = [
	{
		"inputs": [],
		"name": "closeBet",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "depositStack",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "dustStack",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"inputs": [],
		"name": "checkBalance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "checkPlayers",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"name": "stackPlayers",
		"outputs": [
			{
				"internalType": "address payable",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "stackSoFar",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "stackTime",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "stackValue",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "stackWait",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
];
var metamaskRings = 0; 


if (typeof web3 !== 'undefined') {
  var blocksLeft;

  var rings;
  var current_account;

	if(web3.currentProvider.isMetaMask){
		metamaskRings = 1;
	}

	if(metamaskRings){ 
		
		ethereum.request({ method: 'eth_accounts' }).then(accounts => {
			var curr_account_rings = accounts[0];
			if(curr_account_rings != null){
				

				window.web3 = new Web3(ethereum);
				
				rings = new web3.eth.Contract(jsonInterface, rings_address);

				
				if(ethereum.networkVersion == current_network){

					
					rings.methods.checkBalance().call().then(currentStack => {
						
						rings.methods.stackSoFar().call().then(stackSoFar => {
							if(eval(currentStack)>0){ 
								document.getElementById('stacked').innerHTML = '<p>The current Jackpot of Rings is <strong>'+ Math.round((eval(currentStack)/100*98)/Math.pow(10,15)+Number.EPSILON)/Math.pow(10,3) +' Ether</strong>.<br/>Total prizes collected so far in all the rounds of Rings: <strong>' + Math.round(eval(stackSoFar)/Math.pow(10,15)+Number.EPSILON)/Math.pow(10,3) + ' Ether</strong>.</p><hr/>';
							}else{ 
								document.getElementById('stacked').innerHTML = '<p>Total prizes collected so far in all the rounds of Rings: <strong>' + Math.round(eval(stackSoFar)/Math.pow(10,15)+Number.EPSILON)/Math.pow(10,3) + ' Ether</strong>.</p><hr/>';
							}
						}); 
					}); 
					

					web3.eth.getBlockNumber().then(blockNum => {
						rings.methods.stackTime().call().then(roundStarted => {
							rings.methods.checkPlayers().call().then(playersNum =>{
								rings.methods.checkBalance().call().then(currentStack => {
									blocksLeft = eval(roundStarted)+eval(gameTime)-eval(blockNum);
									var blockString = '-';
									if(blocksLeft>=0){ 
										rings.methods.stackValue().call().then(valueToEnter => {

										if(blocksLeft == 1) {
											blockString = '1 block';
										}else{
											blockString = blocksLeft + ' blocks';
										}
												if(playersNum == 1){
													document.getElementById('ElonMetaMask').innerHTML = '<p>The current round of Rings will end in ' + blockString + ' and there is currently 1 player in the game for a Jackpot of <strong>'+ Math.round((eval(currentStack)/100*98)/Math.pow(10,15)+Number.EPSILON)/Math.pow(10,3) +' Ether</strong>. To play you need ' + Math.round(eval(valueToEnter)/Math.pow(10,15)+Number.EPSILON)/Math.pow(10,3) + ' Ether (<i>plus an editable gas fee for the transaction</i>).<br/>Were you to enter the round, your chances to win would be 50&percnt;.</p><p><button class="countMeIn button cta rounded primary-btn raised">Count me in!</button></p>';
													var dummy = eval(valueToEnter)/Math.pow(10,15);
													const countMeIn = document.querySelector('.countMeIn');
													countMeIn.addEventListener('click', () => {
														depositWage(dummy, rings, curr_account_rings); 
													});
												}else{
													document.getElementById('ElonMetaMask').innerHTML = '<p>The current round of Rings will end in ' + blockString + ' and there are currently ' + playersNum +' players in the game for a total Jackpot of <strong>'+ Math.round((eval(currentStack)/100*98)/Math.pow(10,15)+Number.EPSILON)/Math.pow(10,3) +' Ether</strong>. To play you need ' + Math.round(eval(valueToEnter)/Math.pow(10,15)+Number.EPSILON)/Math.pow(10,3) + ' Ether (<i>plus an editable gas fee for the transaction</i>).<br/>Were you to enter the round, your chances to win would be '+ Math.round((1/(eval(playersNum)+1)*Math.pow(10,6))+Number.EPSILON)/Math.pow(10,4)+'&percnt;.</p><p><button class="countMeIn button cta rounded primary-btn raised">Count me in!</button></p>';
													var dummy = eval(valueToEnter)/Math.pow(10,15);
													const countMeIn = document.querySelector('.countMeIn');
													countMeIn.addEventListener('click', () => {
														depositWage(dummy, rings, curr_account_rings); 
													});
												}

										}); 
									}else{ 
										if(playersNum > 0){ 
											var roundInfo = '-';
											if(playersNum == 1){
												roundInfo = '1 player for a Jackpot of '+ Math.round((eval(currentStack)/100*98)/Math.pow(10,15)+Number.EPSILON)/Math.pow(10,3) +' Ether';
											}else{
												roundInfo = playersNum + ' players for a Jackpot of '+ Math.round((eval(currentStack)/100*98)/Math.pow(10,15)+Number.EPSILON)/Math.pow(10,3) +' Ether';
											}
											document.getElementById('ElonMetaMask').innerHTML = '<p>The previous round of Rings ('+ roundInfo +') still needs to be finalized with a winner.<br/>You can simply do that (<i>paying an editable gas fee for the transaction</i>) or start a new round (<i>automatically finalizing the pending one</i>) on your own terms (<i>i.e. you choose the value to enter the game for the next round</i>).</p><p><input type="number" class="input" style="width: 25%;" id="deposit" min="1" step="1" name="deposit" label="deposit"/> Finney (0.001 Ether) - <span style="font-style: italic;">PS: 1 Finney is the lowest deposit allowed</span></p><p><button class="startNewRound button cta rounded primary-btn raised">Start a new round</button></p><p>If another player starts a new round in the meantime you lollygag, you\'ll end up playing at the other player\'s terms (<i>if the other player\'s deposit is equal to or lower than yours</i>) or not playing at all (<i>if your deposit is not enough</i>).<br/>Funds that are not invested in the game will be directly returned to their owner.</p><hr/><p><button class="findTheLastWinner button signup-button rounded secondary-btn raised">Just find out who won</button></p>';

											const startNewRound = document.querySelector('.startNewRound');
											const findTheLastWinner = document.querySelector('.findTheLastWinner');

											startNewRound.addEventListener('click', () => {
												depositWage(document.getElementById('deposit').value, rings, curr_account_rings); 
											});
											findTheLastWinner.addEventListener('click', () => {
												winnerSelection(rings, curr_account_rings);
											});
										}else{ 
											document.getElementById('ElonMetaMask').innerHTML = '<p>Start a new round of Rings on your own terms (<i>i.e. you choose the value to enter the game for the next round</i>).</p><p><input type="number" class="input" style="width: 25%;" id="deposit" min="1" step="1" name="deposit" label="deposit"/> Finney (0.001 Ether) - <span style="font-style: italic;">PS: 1 Finney is the lowest deposit allowed</span></p><p><button class="startNewRound button cta rounded primary-btn raised">Start a new round</button></p><p>If another player starts a new round in the meantime you choose how much to stack, you\'ll end up playing at the other player\'s terms (<i>if the other player\'s deposit is equal to or lower than yours</i>) or not playing at all (<i>if your deposit is not enough</i>).<br/>Funds that are not invested in the game will be directly returned to their owner.</p>';

											const startNewRound = document.querySelector('.startNewRound');

											startNewRound.addEventListener('click', () => {
												depositWage(document.getElementById('deposit').value, rings, curr_account_rings); 
											});
										}
									}

								}); 
							}); 
						}); 
					}); 

				}else{
					document.getElementById('stacked').innerHTML = '<p>' + networkWarning + '</p>';
				}
			}else{
				
			}
		});


	}else{ 
		document.getElementById('ElonMetaMask').innerHTML = '<p><i>If you want to play <strong>Rings</strong> through your web browser, you need to connect your MetaMask account.</p>';
	}

}else{ 
  document.getElementById('ElonMetaMask').innerHTML = '<p><i>If you want to play <strong>Rings</strong> through your web browser, you need to install <a href="https://metamask.io/download.html" target="_blank">MetaMask</a>.</p>';
}
</script>
</p>
<hr>
<p>The same rules of <a href="../../games/rings/"><strong>Rings</strong></a> apply, but with less blocks to wait for the end of a round (only 12+1 in Ropsten test Rings for a faster experience).</p>

    </div>
  </div>
</section>



    
    
<footer class="footer footer-dark">
  <div class="container">
    <div class="columns">
      <div class="column" style="width: 100%; text-align: center;">
        <div class="footer-column">
          <div class="footer-header">
            <h3>Other contact channels</h3>
            <nav class="level is-mobile">
              <div class="level-left" style="margin: auto;">
                <a class="level-item" href="https://github.com/mauponti/hashelot">
                  <span class="icon"><i class="fa fa-github"></i></span>
                </a>
                <a class="level-item" href="https://www.reddit.com/user/mauponti">
                  <span class="icon"><i class="fa fa-reddit"></i></span>
                </a>
              </div>
            </nav>
            <a href="https://bulma.io" target="_blank">
              <img src="../../images/logos/made-with-bulma.png" alt="Made with Bulma" width="128" height="24">
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>

    

    
    <div id="backtotop"><a href="#"></a></div>

    

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://unpkg.com/feather-icons"></script>
<script src="../../js/fresh.js"></script>
<script src="../../js/jquery.panelslider.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  </body>
</html>
